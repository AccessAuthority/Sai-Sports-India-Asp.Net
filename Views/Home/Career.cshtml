@model SaiSports.Models.tbl_career
@{
    ViewData["Title"] = "Career";
    Layout = "_Layout";
}
<style>

    .personal-info, .file-uploads, form {
        display: flex;  
        flex-direction: column;
        gap: 10px;
        border-radius: 5px;
    }
    input{
        border-radius: 5px;
        border: 1px solid #fff;
        color:white;
        background-color:transparent;
        padding:12px;
        width:100%;
    }

    .form{
        border-radius: 5px;
        padding: 20px;
        border: 1px solid white;
        display: flex;
        flex-direction: column;
        width: 50%;
        text-align: start;
    }

    .form-img {
        overflow:hidden;
        border-radius: 5px;
        border: 1px solid white;
        object-fit: cover;
        display: flex;
        flex-direction: column;
        width: 50%;
        height: 567px;
    }
        .form-img img{
            display:flex;
            height: 100%;
            width: 100%;
        }
    .section-content{
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        padding: 40px;
        flex-direction:row;
    }
    .hero-bg {
        padding:40px 40px 0px 40px;
    }

    .box {
        text-align: start;
        margin-top: 100px;
        display: flex;
        align-items: start;
        justify-content: center;
        height: auto;
        width: 100%;
        background-color:transparent;
        flex-direction: column;
        color: #fff;
        gap: 10px;
    }

    .hire {
        font-weight: 600;
        color: white;
        border: 1px solid #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50px;
        height: 50px;
        width: 150px;
    }

    /* Mobile responsiveness */
    @@media (max-width: 768px) {
        .section-content{
            flex-direction: column;
            padding:10px;
        }
        .hero-bg{
            padding: 0px;
        }
        .form, .form-img {
            width: 100%;
        }
        .box{
            padding: 20px 10px;
        }
    }
</style>

  <section class="dark-section pb-0">
    <!-- Client Section  Start-->
    <div class="section-content">
        <div class="box">
            <div class="hire"> We're hiring</div>
            <h3 class="white">Explore the opportunities and work with us </h3>
            <p>Are you passionate about sports and ready to take your career to the next level? We are looking for motivated,<br /> driven individuals to join our dynamic team at Sai Sports! Whether you're an experienced professional or new to the industry, <br /> we offer an exciting and supportive environment to help you succeed.</p>
            <p>Post Your CV - puri.saisports@gmail.com</p>
        </div>
    </div>
  </section>
<div class="dark-section pt-0 pb-0">
    <div class="section-content pt-0">
        <!-- Form Column -->
       <div class="form">
            <form asp-action="CareerForm" method="post" enctype="multipart/form-data" onsubmit="return validateForm()">
    <!-- Personal Information Section -->
    <div class="personal-info">
        <h3>Personal Information</h3>

        <div class="input-group">
            <input type="text" id="fullName" name="fullName" required placeholder="Enter Full Name">
        </div>
        <div class="input-group">
            <input type="email" id="email" name="email" required placeholder="Enter Your Email" pattern="^[a-zA-Z0-9._%+-]+@@[a-zA-Z0-9.-]+\.[a-zA0-9]{2,}$">
        </div>
        <div class="input-group">
            <input type="tel" id="phone" name="phone" required placeholder="Enter Your Phone Number" pattern="^\+?[0-9]{1,4}[-.\s]?[0-9]{1,3}[-.\s]?[0-9]{1,4}[-.\s]?[0-9]{1,4}$">
        </div>
        <div class="input-group">
            <input type="text" id="address" name="address" required placeholder="Enter Your Address">
        </div>
    </div>

    <!-- File Upload Section -->
    <div class="file-uploads">
        <h3>File Uploads</h3>

        <div class="input-group">
            <label for="resume">Resume/CV (Attach file):</label>
            <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" required>
        </div>
        <div class="input-group">
            <label for="coverLetter">Cover Letter (Attach file):</label>
            <input type="file" id="coverLetter" name="coverLetter" accept=".pdf,.doc,.docx">
        </div>
    </div>

    <br>
    <input type="submit" value="Submit Application">
</form>

       </div>
       <div class="form-img">
            <img src="~/images/career-img.jpeg" alt="Job Application Form">
       </div>
    </div>
</div>
<!-- Display SweetAlert if TempData has a message -->
@if (TempData["Message"] != null)
{
    <script>
        Swal.fire({
            title: 'Notification',
            text: '@TempData["Message"]',
            icon: 'success',
            confirmButtonText: 'Ok'
        });
    </script>
}
<script>
    function validateForm() {
        // Get form elements
        var fullName = document.getElementById('fullName');
        var email = document.getElementById('email');
        var phone = document.getElementById('phone');
        var address = document.getElementById('address');
        var resume = document.getElementById('resume');
        var coverLetter = document.getElementById('coverLetter');

        // Check if required fields are filled
        if (!fullName.value.trim() || !email.value.trim() || !phone.value.trim() || !address.value.trim()) {
            alert('Please fill in all required fields.');
            return false; // Prevent form submission
        }

        // Validate email using HTML5 pattern
        var emailPattern = /^[a-zA-Z0-9._%+-]+@@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        if (!emailPattern.test(email.value)) {
            alert('Please enter a valid email address.');
            return false;
        }

        // Validate phone number using the provided regex pattern
        var phonePattern = /^\+?[0-9]{1,4}[-.\s]?[0-9]{1,3}[-.\s]?[0-9]{1,4}[-.\s]?[0-9]{1,4}$/;
        if (!phonePattern.test(phone.value)) {
            alert('Please enter a valid phone number.');
            return false;
        }

        // Validate file size (maximum 2MB for resume and cover letter)
        if (resume.files.length > 0) {
            var resumeFileSize = resume.files[0].size / 1024 / 1024; // Convert to MB
            if (resumeFileSize > 2) {
                alert('Resume file size must be less than 2MB.');
                return false;
            }
        }

        if (coverLetter.files.length > 0) {
            var coverLetterFileSize = coverLetter.files[0].size / 1024 / 1024; // Convert to MB
            if (coverLetterFileSize > 2) {
                alert('Cover letter file size must be less than 2MB.');
                return false;
            }
        }

        // If all validations pass
        return true;
    }
</script>